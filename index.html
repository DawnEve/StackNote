<html>

<head>
	<meta http-equiv=Content-Type content="text/html;charset=utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<script src="/static/js/vue.global-3.0.11.js"></script>
	<script src="/static/js/vue-router.global-4.0.6.js"></script>
	<script src="/static/js/axios.min-0.18.0.js"></script>

	<script src="/static/js/marked-2.0.3.js"></script>


	<script src="/static/js/my-main.js"></script>
	
	<link rel="stylesheet" type="text/css" href="/static/css/index.css" media="all">
	<title>Vue3 Blog</title>
</head>



<body>
<div id="app1">
	<ul id=topNav>
		<b class=logo><a href="/">StackNote</a></b>
		<template v-for="menu in topMenu">
			<li :class="{current: menu.path == currentRoute}">
				<router-link :to="menu.path">{{menu.caption}}</router-link>
			</li>
		</template>
	</ul>

    <router-view></router-view>

    <div class="footer">
    	<p><i>种一棵树最好的时间是十年前，其次，是现在。</i></p>
    	<p>Copyright &copy;2021 - present 
    		<a target="_blank" href="https://www.biomooc.com">biomooc.com</a>. 
    		All Rights Reserved.
    	</p>
    	<p>
    		<a href="/#/about">Contact me</a>. | 
    		Fork me at <a target="_blank" href="https://github.com/DawnEve/StackNote">GitHub</a>. 
    	</p>
    </div>
</div>






<div id="gotoTop">Top</div>





<script type="module">
var log=console.log;

var app=Vue.createApp({
    data(){
        return {
            input:"# head 123",
            path:"/2021/0509-test.md",

            //顶部目录
            topMenu:[
            	{path:'/', caption:'Home'},
            	{path:'/archive', caption:'Archive'},
            	{path:'/tags', caption:'Tags'},
            	{path:'/about', caption:'About'},
            ],


            // 博客分类
            categories: {1:"文献", 2:"英语", 3:"代码", 4:"杂谈" },

        }
    },

    computed:{
    	currentRoute(){
    		return this.$route.path;
    	}
    },




    //给子组件提供数据 暂时无用
    provide(){
    	return{
    		"categories": this.categories,
    	};    	
    }

})

// 载入所有的页面视图 组件
import Home from "/src/views/Home.js" //首页 list
const Archive = {
	template: '<div>Archive</div>',
}

const Tags = {template: '<div>Tags</div>',}
//const About = {template: '<div>About</div>',}

import About from "/src/views/About.js"

import MyPost from "/src/views/MyPost.js" // 单个 md



//路由表
const routes = [
  { path: '/', component: Home },
  { path: '/post/:postPath+', component: MyPost },


  { path: '/archive', component: Archive },
  { path: '/tags', component: Tags },
  { path: '/about', component: About },
  { path: '/tags/:tag', component: Tags },
]

// 路由
const router = VueRouter.createRouter({
  history: VueRouter.createWebHashHistory(), 
  routes,
})

app.use(router)
var vm=app.mount("#app1");
window.vm=vm
</script>
</body>
</html>