<html>

<head>
	<meta http-equiv=Content-Type content="text/html;charset=utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<script src="/static/js/vue.global-3.0.11.js"></script>
	<script src="/static/js/vue-router.global-4.0.6.js"></script>

	<script src="/static/js/marked-2.0.3.js"></script>
	<script src="/static/js/axios.min-0.18.0.js"></script>

	<title>Vue3 Blog</title>


	<link rel="stylesheet" type="text/css" href="/static/css/index.css" media="all">
</head>

<body>



<div id="app1">
	<ul id=topNav>
		<b class=logo><a href="/">StackNote</a></b>
		<template v-for="menu in topMenu">
			<li :class="{current: menu.path == currentRoute}">
				<router-link :to="menu.path">{{menu.caption}}</router-link>
			</li>
		</template>
	</ul>

    <router-view></router-view>
</div>



<script type="module">
var log=console.log;

var app=Vue.createApp({
    data(){
        return {
            input:"# head 123",
            path:"/2021/0509-test.md",

            //顶部目录
            topMenu:[
            	{path:'/', caption:'Home'},
            	{path:'/archive', caption:'Archive'},
            	{path:'/tags', caption:'Tags'},
            	{path:'/about', caption:'About'},
            ],


            // 博客分类
            categories: {1:"文献", 2:"英语", 3:"代码", 4:"杂谈" },

        }
    },

    computed:{
    	currentRoute(){
    		return this.$route.path;
    	}
    },




    //给子组件提供数据 暂时无用
    provide(){
    	return{
    		"categories": this.categories,
    	};    	
    }

})

import Home from "/src/views/Home.js"
const Archive = {
	template: '<div>Archive</div>',}
const Tags = {template: '<div>Tags</div>',}
//const About = {template: '<div>About</div>',}

import About from "/src/views/About.js"


//路由表
const routes = [
  { path: '/', component: Home },
  { path: '/archive', component: Archive },
  { path: '/tags', component: Tags },
  { path: '/about', component: About },
  { path: '/tags/:tag', component: Tags },
]

// 路由
const router = VueRouter.createRouter({
  history: VueRouter.createWebHashHistory(), 
  routes,
})

app.use(router)
var vm=app.mount("#app1");
window.vm=vm
</script>
</body>
</html>